apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: otel-demo-frontend
  namespace: otel-demo
  labels:
    app: otel-demo
spec:
  parentRefs:
    - name: cluster-gateway
      namespace: envoy-gateway-system
      sectionName: mgmt-https-listener
  hostnames:
    - "otel-demo.${gateway_dns_suffix}"
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: /
      backendRefs:
        - name: otel-demo-frontendproxy
          port: 8080
